Search.setIndex({"docnames": ["develop", "develop/orc-dump-output", "develop/perf-scan-agg", "develop/setup-install", "index"], "filenames": ["develop.rst", "develop/orc-dump-output.rst", "develop/perf-scan-agg.rst", "develop/setup-install.rst", "index.rst"], "titles": ["Developer Guide", "Sample output of an orcfiledump tool", "Performance Guide into TableScan and Aggregation", "Presto Native Execution - Getting Started", "Presto Native Execution Documentation"], "terms": {"thi": [0, 2, 3], "i": [0, 2, 3], "intend": 0, "presto": [0, 1, 2], "nativ": [0, 2], "execut": [0, 2], "power": [0, 2], "user": [0, 3], "perform": [0, 4], "tablescan": [0, 4], "aggreg": [0, 4], "get": [0, 2, 4], "start": [0, 2, 4], "sampl": [0, 4], "output": [0, 2, 4], "an": [0, 2, 4], "orcfiledump": [0, 2, 4], "tool": [0, 2, 4], "script": [1, 3], "directori": [1, 2, 3], "usr": [1, 3], "local": [1, 2], "fbpkg": 1, "bbio": 1, "postscript": 1, "footer": 1, "length": 1, "642": 1, "compress": 1, "buffer": 1, "size": [1, 2], "262": 1, "144": 1, "kind": [1, 2], "zstd": 1, "stripe": 1, "cach": 1, "mode": [1, 2], "none": 1, "0": [1, 2, 3], "file": [1, 2, 3], "header": [1, 2], "content": 1, "row": [1, 2], "index": 1, "stride": [1, 2], "10000": [1, 2], "number": [1, 2, 3], "953": [1, 2], "raw": [1, 2], "data": [1, 2], "miss": [1, 2], "checksum": 1, "algorithm": 1, "null": [1, 2], "field": [1, 2], "name": [1, 2], "root": 1, "type": [1, 2], "struct": [1, 2], "1": [1, 2, 3], "column": [1, 2], "orderkei": [1, 2], "long": 1, "2": [1, 2, 3], "partkei": 1, "3": [1, 2, 3], "suppkei": 1, "4": [1, 2, 3], "linenumb": [1, 2], "int": [1, 2], "5": [1, 2, 3], "quantiti": [1, 2], "doubl": [1, 2], "6": [1, 2], "extendedpric": [1, 2], "7": [1, 2, 3], "discount": [1, 2], "8": [1, 3], "tax": [1, 2], "9": 1, "returnflag": 1, "string": [1, 2], "10": [1, 2], "linestatu": 1, "11": [1, 3], "commitd": 1, "12": [1, 2], "receiptd": 1, "13": [1, 2], "shipinstruct": 1, "14": [1, 2], "comment": 1, "15": 1, "is_open": 1, "boolean": [1, 2], "16": 1, "is_return": 1, "filestat": [1, 2], "stat": [1, 2], "valu": [1, 2], "ha": [1, 2, 3], "fals": [1, 2], "19492": 1, "59998438": 1, "sum": [1, 2], "28": 1, "799": 1, "548": 1, "441": 1, "2822": 1, "1999834": 1, "960": 1, "474": 1, "249": 1, "89": 1, "99990": 1, "47": 1, "039": 1, "178": 1, "971": 1, "50": [1, 2], "hassum": [1, 2], "1009": 1, "03": 1, "102895": 1, "08": 1, "A": [1, 2], "r": 1, "f": 1, "1993": 1, "1994": [1, 2], "04": 1, "06": [1, 2], "530": 1, "01": [1, 2], "02": [1, 2], "09": 1, "collect": 1, "cod": 1, "take": [1, 2], "back": 1, "return": [1, 2], "336": 1, "abov": [1, 2, 3], "blit": 1, "ymptote": 1, "furiou": 1, "24": [1, 2], "891": 1, "true": 1, "count": [1, 2], "497": 1, "offset": 1, "29": 1, "077": 1, "549": 1, "258": 1, "270": 1, "group": [1, 2], "usermetadata": [1, 2], "writer": [1, 2], "version": [1, 2, 3], "259": [1, 2], "a8dc52": [1, 2], "orc": [1, 2], "presto_query_id": [1, 2], "20210814_094649_15363_c5483": 1, "presto_vers": [1, 2], "In": [2, 3], "ll": 2, "explain": 2, "how": [2, 3], "scan": 2, "run": 2, "next": 2, "gener": 2, "worker": [2, 3], "velox": 2, "after": 2, "read": 2, "you": [2, 3], "know": 2, "about": 2, "domain": 2, "thei": 2, "differ": 2, "understand": 2, "determin": 2, "whether": 2, "happen": 2, "given": 2, "have": [2, 3], "reproduc": 2, "product": 2, "unit": [2, 3], "test": [2, 3], "quick": 2, "debug": [2, 3], "profil": [2, 3], "also": [2, 3], "learn": 2, "special": 2, "path": [2, 3], "bucket": 2, "tabl": 2, "xxx": 2, "partit": 2, "The": 2, "from": [2, 3], "can": [2, 3], "appli": 2, "troubleshoot": 2, "failur": 2, "crash": 2, "well": [2, 3], "let": [2, 3], "": [2, 3], "look": [2, 3], "simpl": [2, 3], "tpc": 2, "h": 2, "select": 2, "l": 2, "AS": 2, "revenu": 2, "lineitem": 2, "where": 2, "shipdat": 2, "cast": 2, "date": 2, "varchar": 2, "AND": 2, "interv": 2, "year": 2, "between": 2, "first": 2, "step": 2, "check": [2, 3], "command": [2, 3], "us": [2, 3], "client": 2, "option": [2, 3], "paramet": 2, "which": 2, "specifi": 2, "produc": 2, "logic": 2, "distribut": 2, "broken": 2, "down": 2, "fragment": 2, "stage": 2, "note": [2, 3], "term": [2, 3], "ar": [2, 3], "refer": 2, "same": 2, "thing": 2, "These": 2, "interchang": 2, "find": 2, "out": [2, 3], "more": 2, "document": [2, 3], "http": [2, 3], "prestodb": [2, 3], "io": 2, "doc": [2, 3], "current": 2, "sql": 2, "html": 2, "text": [2, 3], "give": 2, "u": [2, 3], "follow": [2, 3], "singl": 2, "layout": 2, "strategi": 2, "ungrouped_execut": 2, "estim": 2, "87": 2, "89kb": 2, "cpu": 2, "memori": 2, "network": 2, "limit": 2, "final": 2, "default": 2, "sum_4": 2, "localexchang": 2, "remotesourc": 2, "sourc": 2, "partial": 2, "expr": 2, "scanproject": 2, "tablehandl": 2, "connectorid": 2, "hive": [2, 3], "connectorhandl": 2, "hivetablehandl": 2, "schemanam": 2, "tpch": [2, 3], "tablenam": 2, "analyzepartitionvalu": 2, "empti": 2, "1995": 2, "049999999999999996": 2, "06999999999999999": 2, "min": 2, "projectloc": 2, "53987447": 2, "463": 2, "38mb": 2, "971774042": 2, "40": 2, "00": 2, "1457661063": 2, "60": 2, "regular": 2, "section": 2, "correspond": 2, "notic": 2, "list": 2, "opposit": 2, "order": 2, "e": 2, "g": 2, "leaf": 2, "appear": 2, "last": [2, 3], "word": 2, "head": 2, "tell": 2, "wide": 2, "mean": 2, "node": 2, "all": [2, 3], "cluster": 2, "session": 2, "properti": [2, 3], "max_tasks_per_stag": 2, "configur": [2, 3], "max": 2, "task": 2, "per": 2, "systemsessionproperti": 2, "java": 2, "main": [2, 3], "modul": [2, 3], "found": 2, "querymanagerconfig": 2, "taskmanagerconfig": 2, "memorymanagerconfig": 2, "featuresconfig": 2, "nodememoryconfig": 2, "warningcollectorconfig": 2, "modifi": 2, "behavior": 2, "config": [2, 3], "most": 2, "some": [2, 3], "don": [2, 3], "t": [2, 3], "case": [2, 3], "cannot": 2, "runtim": 2, "due": 2, "technic": 2, "reason": 2, "For": [2, 3], "interact": 2, "usual": 2, "time": 2, "spent": 2, "process": 2, "That": 2, "becaus": 2, "tend": 2, "cardin": 2, "reduc": 2, "either": 2, "through": 2, "low": 2, "both": 2, "closer": 2, "There": 2, "two": 2, "repres": 2, "separ": 2, "oper": 2, "filterproject": 2, "henc": 2, "just": [2, 3], "like": [2, 3], "show": 2, "function": [2, 3], "evalu": 2, "express": 2, "over": 2, "contain": 2, "lot": 2, "inform": 2, "we": [2, 3], "connector": 2, "It": [2, 3], "import": 2, "must": 2, "when": 2, "specif": [2, 3], "exampl": 2, "max_split_s": 2, "hivesessionproperti": 2, "hiveclientconfig": 2, "effect": 2, "handl": 2, "includ": 2, "schema": [2, 3], "other": [2, 3], "scope": 2, "see": [2, 3], "further": 2, "repeat": 2, "alreadi": [2, 3], "saw": 2, "add": 2, "new": [2, 3], "here": [2, 3], "non": 2, "intuit": 2, "describ": 2, "individu": 2, "push": 2, "deep": 2, "reader": [2, 3], "part": 2, "decod": 2, "stream": 2, "veri": 2, "effici": 2, "class": [2, 3], "defin": 2, "selectivecolumnread": 2, "dwio": 2, "dwrf": 2, "subfieldfilt": 2, "map": 2, "kei": [2, 3], "subfield": 2, "std": 2, "similar": [2, 3], "nest": 2, "element": 2, "arrai": 2, "structur": 2, "represent": 2, "help": 2, "would": [2, 3], "b": 2, "c": [2, 3], "m": 2, "cat": 2, "100": 2, "codebas": 2, "tupledomainfilt": 2, "what": 2, "should": [2, 3], "one": [2, 3], "expect": 2, "qualifi": 2, "scalar": 2, "set": [2, 3], "disjoint": 2, "rang": 2, "therefor": 2, "sometim": 2, "call": [2, 3], "integ": 2, "trivial": 2, "extend": 2, "float": 2, "point": 2, "conclud": 2, "project": [2, 3], "rest": 2, "come": 2, "each": 2, "If": [2, 3], "turn": 2, "shipmod": 2, "mani": 2, "total": 2, "multipli": 2, "366": 2, "2562": 2, "access": [2, 3], "partition_kei": 2, "air": 2, "fob": 2, "mail": 2, "rail": 2, "reg": 2, "ship": 2, "truck": 2, "calcul": 2, "approxim": 2, "combin": 2, "might": [2, 3], "exist": [2, 3], "coordin": [2, 3], "never": 2, "under": 2, "multipl": 2, "often": 2, "do": 2, "so": [2, 3], "ad": 2, "equal": 2, "our": [2, 3], "tupledomain": 2, "whole": 2, "dure": 2, "basic": [2, 3], "minimum": 2, "maximum": 2, "presenc": 2, "avail": 2, "rowgroup": 2, "apach": 2, "org": 2, "format": 2, "report": 2, "20210814_094649_15363_c5483_c7ba49d3": 2, "b1e7": 2, "4bf4": 2, "8dd7": 2, "1a08ef80c9a3": 2, "subdirectori": [2, 3], "store": 2, "identifi": 2, "fly": 2, "hiveconnector": 2, "level": 2, "d": 2, "path_to_fil": 2, "withindex": 2, "filenam": 2, "along": [2, 3], "intern": 2, "id": [2, 3], "search": 2, "entri": 2, "up": [2, 3], "line": [2, 3], "had": 2, "could": 2, "pass": [2, 3], "skip": 2, "examin": 2, "testfilt": 2, "f4d": 2, "cpp": [2, 3], "allow": 2, "exclud": 2, "proce": 2, "implement": 2, "filterrowgroup": 2, "method": 2, "worth": 2, "mention": 2, "anoth": 2, "piec": 2, "system": 2, "top": 2, "bottom": 2, "20210319_083036_17635_2j3mt": 2, "Not": 2, "featur": 2, "5000": 2, "again": 2, "particular": 2, "limitparti": 2, "bigint": 2, "312": 2, "50kb": 2, "1727918297": 2, "61gb": 2, "1727598297": 2, "depend": 2, "extract": 2, "been": 2, "engin": 2, "adapt": 2, "reorder": 2, "conjunct": 2, "conjunctexpr": 2, "maybereorderinput": 2, "exec": 2, "controlexpr": 2, "scanspec": 2, "result": 2, "dictionari": 2, "encod": 2, "wrap": 2, "indic": 2, "omit": 2, "ani": [2, 3], "lazyvector": 2, "doesn": 2, "materi": 2, "until": 2, "onli": [2, 3], "subset": 2, "need": [2, 3], "load": [2, 3], "delai": 2, "absolut": 2, "join": 2, "idea": 2, "lazyblock": 2, "classic": 2, "leverag": 2, "mai": [2, 3], "wonder": 2, "ineffici": 2, "instead": 2, "onc": 2, "answer": 2, "coalesc": 2, "nearbi": 2, "close": 2, "enough": 2, "independ": [2, 3], "enabl": 2, "support": 2, "anywher": 2, "els": 2, "31": 2, "suppli": 2, "hook": 2, "accumul": 2, "directli": 2, "No": 2, "save": 2, "alloc": 2, "copi": [2, 3], "toward": 2, "q6": 2, "earlier": 2, "possibl": 2, "occur": 2, "matter": 2, "fast": 2, "beat": 2, "speed": 2, "noth": 2, "pick": [2, 3], "few": 2, "deeper": 2, "make": 2, "sure": [2, 3], "match": 2, "averag": 2, "outlier": 2, "hand": 2, "storag": 2, "disk": 2, "Then": [2, 3], "write": 2, "conveni": 2, "tablescantest": 2, "repro": 2, "drop": 2, "subfieldfiltersbuild": 2, "build": 2, "self": 2, "explanatori": 2, "auto": 2, "lessthan": 2, "planbuild": 2, "global": 2, "rowtyp": 2, "assign": 2, "allregularcolumn": 2, "maketablehandl": 2, "move": 2, "op": 2, "partialaggreg": 2, "plannod": 2, "makehivesplit": 2, "creat": [2, 3], "split": 2, "complet": 2, "test_f": 2, "const": 2, "filepath": 2, "tmp": 2, "cursorparamet": 2, "param": 2, "chrono": 2, "steady_clock": 2, "now": [2, 3], "cursor": 2, "make_uniqu": 2, "taskcursor": 2, "addsplit": 2, "nomoresplit": 2, "int32_t": 2, "totalcnt": 2, "while": 2, "movenext": 2, "end": 2, "cout": 2, "endl": 2, "duration_cast": 2, "millisecond": 2, "too": 2, "short": 2, "alwai": 2, "duplic": 2, "them": 2, "loop": 2, "debugg": 2, "rememb": 2, "releas": 2, "built": 2, "clion": [2, 3], "pretti": 2, "www": 2, "jetbrain": 2, "com": [2, 3], "At": 2, "perf": 2, "work": [2, 3], "signup": 3, "account": 3, "public": 3, "authent": 3, "ssh": 3, "haven": 3, "done": 3, "instal": 3, "confirm": 3, "jdk8": 3, "oracl": 3, "open": 3, "jdk": 3, "your": 3, "bash_profil": 3, "zshenv": 3, "export": 3, "java_hom": 3, "libexec": 3, "v": 3, "ensur": 3, "repositori": 3, "assum": 3, "familiar": 3, "pleas": 3, "readup": 3, "architectur": 3, "base": 3, "co": 3, "ordin": 3, "librari": 3, "fork": 3, "click": 3, "button": 3, "clone": 3, "repo": 3, "laptop": 3, "your_github_usernam": 3, "right": 3, "upstream": 3, "remot": 3, "maven": 3, "window": 3, "linux": 3, "platform": 3, "mac": 3, "homebrew": 3, "brew": 3, "mvn": 3, "go": 3, "cd": 3, "mvnw": 3, "clean": 3, "dskiptest": 3, "download": 3, "intelllij": 3, "howev": 3, "instruct": 3, "concern": 3, "hivequeryrunn": 3, "goto": 3, "edit": 3, "applic": 3, "facebook": 3, "vm": 3, "ea": 3, "xmx2g": 3, "xx": 3, "exitonoutofmemoryerror": 3, "duser": 3, "timezon": 3, "america": 3, "bahia_bandera": 3, "dhive": 3, "secur": 3, "legaci": 3, "module_dir": 3, "classpath": 3, "upon": 3, "someth": 3, "submodul": 3, "requir": 3, "person": 3, "token": 3, "below": 3, "enter": 3, "password": 3, "updat": 3, "init": 3, "recurs": 3, "maco": 3, "sh": 3, "cmake": 3, "purpos": 3, "insid": 3, "typic": 3, "though": 3, "checkout": 3, "carri": 3, "home": 3, "bin": 3, "python": 3, "unittest": 3, "try": 3, "minor": 3, "modif": 3, "consid": 3, "sai": 3, "bitwise_xor": 3, "pom": 3, "xml": 3, "hiveexternalqueryrunn": 3, "three": 3, "env": 3, "variabl": 3, "replac": 3, "bold": 3, "presto_serv": 3, "your_path_to_presto_cpp": 3, "data_dir": 3, "your_user_nam": 3, "desktop": 3, "worker_count": 3, "launch": 3, "put": 3, "want": 3, "extern": 3, "own": 3, "discoveri": 3, "uri": 3, "127": 3, "54557": 3, "intelij": 3, "log": 3, "prestoserv": 3, "program": 3, "argument": 3, "logtostderr": 3, "etc_dir": 3, "path_to_your": 3, "goe": 3, "server": 3, "connect": 3, "cli": 3, "target": 3, "jar": 3, "257": 3, "snapshot": 3, "catalog": 3, "abl": 3, "queri": 3, "develop": 4, "guid": 4}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"develop": 0, "guid": [0, 2], "sampl": 1, "output": 1, "an": 1, "orcfiledump": 1, "tool": 1, "perform": 2, "tablescan": 2, "aggreg": 2, "introduct": 2, "queri": 2, "plan": 2, "statist": 2, "base": 2, "prune": 2, "remain": 2, "filter": 2, "lazi": 2, "vector": 2, "pushdown": 2, "investig": 2, "presto": [3, 4], "nativ": [3, 4], "execut": [3, 4], "get": 3, "start": 3, "prerequisit": 3, "git": 3, "github": 3, "java": 3, "sourc": 3, "code": 3, "setup": 3, "intellij": 3, "presto_cpp": 3, "velox": 3, "end": 3, "run": 3, "make": 3, "chang": 3, "build": 3, "add": 3, "document": 4}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Developer Guide": [[0, "developer-guide"]], "Sample output of an orcfiledump tool": [[1, "sample-output-of-an-orcfiledump-tool"]], "Performance Guide into TableScan and Aggregation": [[2, "performance-guide-into-tablescan-and-aggregation"]], "Introduction": [[2, "introduction"]], "Query Plan": [[2, "query-plan"]], "Statistics-Based Pruning": [[2, "statistics-based-pruning"]], "Remaining Filter": [[2, "remaining-filter"]], "Lazy Vector": [[2, "lazy-vector"]], "Aggregation Pushdown": [[2, "aggregation-pushdown"]], "Performance Investigation": [[2, "performance-investigation"]], "Presto Native Execution - Getting Started": [[3, "presto-native-execution-getting-started"]], "Prerequisites": [[3, "prerequisites"]], "Git & Github": [[3, "git-github"]], "Java": [[3, "java"]], "Source Code": [[3, "source-code"]], "Presto": [[3, "id1"]], "Setup Presto": [[3, "setup-presto"]], "Setup IntelliJ": [[3, "setup-intellij"]], "Setup presto_cpp": [[3, "setup-presto-cpp"]], "Setup Velox": [[3, "setup-velox"]], "End to End Run": [[3, "end-to-end-run"]], "Make Changes and Build": [[3, "make-changes-and-build"]], "Add presto_cpp to Presto": [[3, "add-presto-cpp-to-presto"]], "Presto Native Execution Documentation": [[4, "presto-native-execution-documentation"]]}, "indexentries": {}})